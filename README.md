# 🛒 팔로우 카트
---
## 📋 프로젝트 개요
이 프로젝트는 스마트폰의 Bluetooth 기능과 GPS, 지자기 센서를 활용하여 카트가 사용자를 자동으로 추적하고 따라가도록 설계되었습니다. 이 카트는 Arduino 플랫폼을 사용하여 구성되었으며, Blynk 애플리케이션을 통해 실시간 제어와 모니터링을 제공합니다.

## 🧑‍💻 사용 기술 및 구성 요소
### 🛠 하드웨어

![하드웨어 ](https://github.com/user-attachments/assets/c5f64d74-171f-4acf-bd94-a6fa417fbc02)

Arduino: 카트의 핵심 제어 보드

Bluetooth 모듈 (HC-05): 스마트폰과의 무선 통신을 위한 모듈

GPS 모듈 (NMEA 0183 호환): 카트의 위치 추적

나침반(지자기) 센서 (HMC5883L): 카트의 방향을 감지

DC 모터와 모터 드라이버 (L298N): 카트의 움직임을 제어

배터리: 시스템 전원 공급


### 💻 소프트웨어


![소프웨어s](https://github.com/user-attachments/assets/fd2eca7e-a570-48cd-8753-2a2f98b4e214)


Arduino IDE: 코드 작성 및 업로드

Blynk 앱: 스마트폰을 통해 카트 상태를 실시간 모니터링 및 제어

Bluetooth 통신: 스마트폰과의 데이터 송수신

GPS 및 지자기 센서 라이브러리: 위치와 방향 추적을 위한 라이브러리


### 🧭 주요 기능
🚶 **자동 팔로우 모드**  

-스마트폰과 Bluetooth 연결 후, 사용자의 GPS 좌표를 받아 카트가 자율적으로 따라옵니다.

-지자기 센서를 통해 방향을 계산하고, 사용자를 향해 이동합니다.

⚙️ **모터 제어**  

-목적지와 방향 오차를 고려한 PID 제어 방식(간단화된 형태) 적용.

📱 **Blynk 앱 연동**  

-Blynk 앱을 통해 GPS 위치 정보, 연결 상태를 실시간 확인할 수 있습니다.

-앱 내 버튼으로 ON/OFF 동작합니다.

📍 **실시간 위치 및 방향 추적**  

-GPS를 통해 실시간 위치를 파악하고, 방향 센서를 이용해 북쪽 기준 회전 방향을 감지합니다.


### 🎮 동작 흐름  
1. 전원 ON  
→ 카트의 전원을 켜고 Arduino 시스템을 부팅합니다.

2. Blynk 앱 실행  
→ 스마트폰에서 Blynk 앱을 열고 Bluetooth를 통해 카트에 연결합니다.

3. 자동 팔로우 모드 활성화  
→ 앱에서 ‘자동 팔로우’ 버튼을 눌러 카트가 사용자를 추적하도록 설정합니다.

4. 수동 제어 모드 전환 (선택사항)  
→ 필요시 앱 내 수동 제어 모드 버튼을 눌러 직접 조종할 수 있습니다.

5. 모니터링  
→ 앱에서 실시간으로 배터리 잔량, 현재 GPS 좌표, Bluetooth 연결 상태를 확인합니다.


### 🛠️ 문제 해결 과정  

#### 문제: 테스트 중 일정 방향에서 센서가 오작동하며 잘못된 방위를 출력하는 문제가 반복적으로 발생했습니다. 자꾸 방향이 틀어짐

 →원인: 나침반 센서가 카트에 부착된 배터리, 모터등에 의해 주변에 위치한 물체가 만들어내는 자기장으로 인해 자기 데이터가 왜곡되는 현상인 하드 아이언(Hard Iron)이 발생

 →해결: 하드 아이언 왜곡을 보정하기 위해, 센서의 X, Y축 데이터를 수집하여 산점도를 그리고, 이를 기반으로 중심점(offset)을 계산해 하드 아이언 오프셋을 제거했습니다.

 #### 문제: 배터리를 건전지로 했을 때 파워 및 용량 부족  
 
 →해결: 건전지에서 보조배터리로 교체


## 🔮 향후 개선 방향
초음파 센서 추가: 장애물 자동 감지 및 회피 기능 구현 예정

경로 최적화 알고리즘: 사용자를 따라갈 때 장애물이나 도로를 고려한 경로 최적화


## ✨ 프로젝트 기여 
1. 하드웨어 구성
2. 
3. 앱 구성과 활용
4. 
5. 나침반 센서 동작 알고리즘 구성


## ✍️ 만든 사람

**팀 인원**: 3명 김지훈, 김영빈, 최성락


https://drive.google.com/file/d/1Wbt2eypEIRSh9QpMafkUps8rhqrTpsNU/view?usp=sharing



   

